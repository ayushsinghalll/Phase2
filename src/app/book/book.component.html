
<form [formGroup]="bookForm" (ngSubmit)="onSubmit()" class="form">
  <div class="form-group">
    <label for="id">ID</label>
  <input class="form-control"
         type="text" name="id" id="id" formControlName="id" placeholder="Enter ID">
    <div *ngIf="id">
      <div *ngIf="!id.valid && (id.dirty || id.touched)">
        <div [hidden]="!id.errors?.['required']"  class="alert alert-danger">
          Id is required
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="title">Title</label>
  <input class="form-control" type="text" name="title" id="title"
         formControlName="title">
    <div *ngIf="title">
      <div  *ngIf="!title.valid && (title.dirty || title.touched)">

        <div [hidden]="!title.errors?.['required']"  class="alert alert-danger">
          Title is required
        </div>

      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="dateOfPublishing">Date Of Publishing</label>
  <input class="form-control" type="date" name="dateOfPublishing" id="dateOfPublishing"
         formControlName="dateOfPublishing">
    <div *ngIf="dateOfPublishing">
      <div  *ngIf="!dateOfPublishing.valid && (dateOfPublishing.dirty || dateOfPublishing.touched)">

        <div [hidden]="!dateOfPublishing.errors?.['required']"  class="alert alert-danger">
          Date Of Publishing is required
        </div>

      </div>
    </div>
  </div>
  <div formGroupName="author">
    <div class="form-group">
      <label for="Name">Name</label>
  <input class="form-control"  type="text" name="Name" id="Name"
         formControlName="Name">
      <div *ngIf="Name">
        <div  *ngIf="!Name.valid && (Name.dirty || Name.touched)">

          <div [hidden]="!Name.errors?.['required']"  class="alert alert-danger">
            Name is required
          </div>

        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="Email">Email</label>
  <input class="form-control"  type="Email" name="Email" id="Email"
         formControlName="Email">
      <div *ngIf="Email">
        <div  *ngIf="!Email.valid && (Email.dirty || Email.touched)">

          <div [hidden]="!Email.errors?.['required']" class="alert alert-danger">
            Email is required
          </div>
        </div>
        </div>
    </div>
  </div>
  <div formArrayName="publishers">
    <div *ngFor="let pub of publishers().controls;
    let pubIndex=index ">
      <div [formGroupName]="pubIndex">
        {{pubIndex}}
        <input placeholder="Enter Publisher Name" class="form-control"
               type="text" name="publisherName" id="publisherName" formControlName="publisherName">


        <input placeholder="Enter Publisher City" class="form-control"
               type="text" name="publisherCity" id="publisherCity" formControlName="publisherCity">
        <button (click)="removePublisher(pubIndex)">Remove Publisher</button>
      </div>
    </div>
    <button type="button" (click)="addPublisher()">Add Publisher</button>
  </div>
  <button class="btn btn-success">Submit</button><br>
  {{this.bookForm.value | json }}
</form>

